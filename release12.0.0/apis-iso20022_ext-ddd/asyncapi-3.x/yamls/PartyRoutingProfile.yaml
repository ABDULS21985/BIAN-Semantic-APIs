asyncapi: 2.6.0
info:
  title: Party Routing Profile
  description: >-
    BIAN Service Domain (expanded with the BIAN BOM) | This Service domain
    maintains a small profile of key indicators for a customer that is
    referenced during customer interactions to facilitate routing, servicing and
    product/service fulfillment decisions. This can include status (such as
    account in arrears), ratings (such as high value customer) and alerts (such
    possible fraud activity detected)
  version: 12.0.3
channels:
  PartyState/Created:
      description: ''
      publish:
        operationId: PartyState-created
        summary: PartyState
        message:
          $ref: '#/components/messages/PartyState'
  PartyState/Updated:
      description: ''
      publish:
        operationId: PartyState-updated
        summary: PartyState
        message:
          $ref: '#/components/messages/PartyState'
  Status/Created:
      description: ''
      publish:
        summary: Status
        message:
          $ref: '#/components/messages/Status'
  Status/Updated:
      description: ''
      publish:
        summary: Status
        message:
          $ref: '#/components/messages/Status'
  Rating/Created:
      description: ''
      publish:
        summary: Rating
        message:
          $ref: '#/components/messages/Rating'
  Rating/Updated:
      description: ''
      publish:
        summary: Rating
        message:
          $ref: '#/components/messages/Rating'
  Alert/Created:
      description: ''
      publish:
        summary: Alert
        message:
          $ref: '#/components/messages/Alert'
  Alert/Updated:
      description: ''
      publish:
        summary: Alert
        message:
          $ref: '#/components/messages/Alert'
components:
  messages:
    PartyState:
        name: PartyState
        description: >-
          Monitor and define the status/rating of some entity within Customer
          Profile. 
        payload:
          $ref: '#/components/schemas/PartyState'
    Status:
        name: Status
        description: >-
          A collection of information feeds/measures that can be used to track
          the status of one or more items/entitites


          Examples:- Composite position, Customer alert
        payload:
          $ref: '#/components/schemas/Status'
    Rating:
        name: Rating
        description: >-
          A collection of information feeds/measures that can be used to track
          the status of one or more items/entitites


          Examples:- Composite position, Customer alert
        payload:
          $ref: '#/components/schemas/Rating'
    Alert:
        name: Alert
        description: >-
          A collection of information feeds/measures that can be used to track
          the status of one or more items/entitites


          Examples:- Composite position, Customer alert
        payload:
          $ref: '#/components/schemas/Alert'
  schemas:
    Status:
        type: object
        description: ''
        properties:
          CustomerRelationshipStatusType:
              type: string
              format: String
              description: "Defines the type of status (e.g. account in distress) \r\n"
          CustomerRelationshipStatus:
              type: string
              format: String
              description: "The maintained state value (historical values may be retained as appropriate) \r\n"
          CustomerRelationshipStatusNarrative:
              type: string
              format: String
              description: "Explanation/description for given status value if necessary \r\n"
          CustomerRelationshipStatusValidFromToDate:
              $ref: '#/components/schemas/Date'
    Date:
        type: object
        format: Date
        description: >-
          Indication when the status value is updated and time until given value
          applies/is relevant as appropriate ISODateISODate
          (https://www.iso20022.org/standardsrepository/type/ISODate)StandardISO20022
          BM ()
        properties:
          DateContent:
              type: string
              format: String
              description: ''
    Rating:
        type: object
        description: ''
        properties:
          CustomerRelationshipRatingType:
              type: string
              format: String
              description: "Defines the type of rating (e.g. credit rating) \r\n"
          CustomerRelationshipRating:
              type: string
              format: String
              description: "The maintained rating value (historical values may be retained as appropriate) \r\n"
          CustomerRelationshipRatingNarrative:
              type: string
              format: String
              description: "Explanation/description for given rating value if necessary \r\n"
          CustomerRelationshipRatingValidFromToDate:
              $ref: '#/components/schemas/Date'
    Alert:
        type: object
        description: ''
        properties:
          CustomerRelationshipAlertType:
              type: string
              format: String
              description: "Defines the type of alert (e.g. detected potential fraud) \r\n"
          CustomerRelationshipAlert:
              type: string
              format: String
              description: "The maintained alert value (historical values may be retained as appropriate) \r\n"
          CustomerRelationshipAlertNarrative:
              type: string
              format: String
              description: "Explanation/description for given alert value if necessary \r\n"
          CustomerRelationshipAlertValidFromToDate:
              $ref: '#/components/schemas/Date'
    PartyState:
        type: object
        description: ''
        properties:
          CustomerReference:
              type: string
              format: Object
              description: "Reference to the customer for the profile \r\n"
